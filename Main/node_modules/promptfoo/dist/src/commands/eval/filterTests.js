"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.filterTests = void 0;
const filterFailingTests_1 = require("./filterFailingTests");
async function filterTests(testSuite, args) {
    const tests = testSuite.tests;
    if (!tests) {
        return tests;
    }
    if (Object.keys(args).length === 0) {
        return tests;
    }
    const { firstN, pattern, failing } = args;
    let newTests;
    if (failing) {
        newTests = await (0, filterFailingTests_1.filterFailingTests)(testSuite, failing);
    }
    else {
        newTests = [...tests];
    }
    if (pattern) {
        newTests = newTests.filter((test) => test.description && test.description.match(pattern));
    }
    if (firstN) {
        const count = parseInt(firstN);
        if (isNaN(count)) {
            throw new Error(`firstN must be a number, got: ${firstN}`);
        }
        newTests = newTests.slice(0, count);
    }
    return newTests;
}
exports.filterTests = filterTests;
//# sourceMappingURL=filterTests.js.map