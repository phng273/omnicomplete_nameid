"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.filterFailingTests = void 0;
const util_1 = require("../../util");
async function filterFailingTests(testSuite, outputPath) {
    if (!testSuite.tests) {
        return [];
    }
    const { results } = await (0, util_1.readOutput)(outputPath);
    const failingResults = results.results.filter((result) => !result.success);
    if (failingResults.length === 0) {
        return [];
    }
    return [...testSuite.tests].filter((test) => {
        return failingResults.some((result) => (0, util_1.resultIsForTestCase)(result, test));
    });
}
exports.filterFailingTests = filterFailingTests;
//# sourceMappingURL=filterFailingTests.js.map